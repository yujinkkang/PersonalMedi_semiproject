DROP SEQUENCE MEMBER_SEQ;
DROP TABLE MEMBER;

CREATE SEQUENCE MEMBER_SEQ;

CREATE TABLE MEMBER (
	MEMBER_SEQ NUMBER NOT NULL,
	MEMBER_ID VARCHAR2(20) NOT NULL,
	MEMBER_PW VARCHAR2(20) NOT NULL,
	MEMBER_NAME VARCHAR2(20) NOT NULL,
	MEMBER_BIRTH VARCHAR2(20) NOT NULL,
	MEMBER_GENDER VARCHAR2(2) NOT NULL,
	MEMBER_EMAIL VARCHAR2(30) NOT NULL,
	MEMBER_ADDR VARCHAR2(200) NOT NULL,
	MEMBER_PHONE VARCHAR2(30) NOT NULL,
	
	--일반 회원: M, 네이버: N, 구글: G, 카카오: K
	MEMBER_SNS VARCHAR2(2) NOT NULL,
	
	MEMBER_ENABLED VARCHAR2(2) DEFAULT 'N',
	
	CONSTRAINT MEMBER_SEQ_PK PRIMARY KEY(MEMBER_SEQ),
	CONSTRAINT MEMBER_GENDER_CK CHECK(MEMBER_GENDER IN('M','F')),
	CONSTRAINT MEMBER_ENABLED_CK CHECK(MEMBER_ENABLED IN('Y','N')),
	
	CONSTRAINT MEMBER_ID_UQ UNIQUE(MEMBER_ID),
	CONSTRAINT MEMBER_EMAIL_UQ UNIQUE(MEMBER_EMAIL)
);

SELECT * FROM MEMBER;

INSERT INTO MEMBER
VALUES(MEMBER_SEQ.NEXTVAL,
'admin', '1234', '관리자', '20200212', 'F',
'admin@admin.com', '서울특별시 강남구', '010-1234-5678', 'M', 'N');

INSERT INTO MEMBER
VALUES(MEMBER_SEQ.NEXTVAL,
'guest', '1234', '관리자', '20200212', 'F',
'guest@guest.com', '서울특별시 강남구', '010-1234-5678', 'M', 'N');

SELECT MEMBER_SEQ, MEMBER_ID, MEMBER_PW, MEMBER_NAME, MEMBER_BIRTH, 
		MEMBER_GENDER, MEMBER_EMAIL, MEMBER_ADDR, MEMBER_PHONE, MEMBER_SNS, MEMBER_ENABLED FROM MEMBER
		WHERE MEMBER_ID = 'admin' AND MEMBER_PW = '1234';
		
SELECT count(MEMBER_ID) FROM MEMBER
WHERE MEMBER_ID = 'admin';

SELECT count(*) FROM MEMBER
WHERE MEMBER_PHONE = '010-1234-5678';